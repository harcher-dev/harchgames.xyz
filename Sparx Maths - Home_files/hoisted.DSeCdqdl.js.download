import{o as p,s}from"./systems.YDg1Ni8P.js";import"./index.DUPi7wy_.js";import"./book-a-demo.17d43524.CEUYqTx5.js";import"./index.ecd40130.BuyKZ-0C.js";import"./community.dfed2b11.0k9GLdCr.js";function f(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}const c=new URL(window.location.href),l=c.searchParams.get("connection")||void 0;l&&(c.searchParams.delete("connection"),history.replaceState({},"",c.toString()));const d="https://interaction.api.sparxmaths.uk/",h=p({analyticsKey:"sm-analytics-id",applicationName:"maths-marketing",interactionGatewayUrl:d,connectionId:l});s({category:"pageview",action:"change page",labels:{path:location.pathname+location.search}});const g=["sparxreader.com","sparxscience.com"],u=document.querySelectorAll("a");u.forEach(t=>{if(g.includes(t.host)){const e=new URLSearchParams(t.search);e.delete("connection"),e.append("connection",h),t.search=e.toString()}t.addEventListener("click",async e=>{var r;t.target!=="_blank"&&e.preventDefault();const o=t.getAttribute("data-interaction-action"),i=t.getAttribute("data-interaction-category"),m=((r=t.getAttribute("data-interaction-labels"))==null?void 0:r.split(";").map(n=>n.split(":").map(a=>a.trim())).reduce((n,a)=>a.length===2?{...n,[a[0]]:a[1]}:n,{}))||void 0;o&&i&&await s({category:i,action:o,labels:m}),t.target!=="_blank"&&(window.location.href=t.href)})});export{f as __vite_legacy_guard};
